// Ported from Mutable Instruments Braids
// Original: Copyright 2012 Emilie Gillet (MIT License)
// Modifications for BraidsVST: GPL v3

#include "resources.h"

namespace braids {

// Sine wavetable - 257 entries (256 + 1 for interpolation wraparound)
// Generated from sin(2 * PI * i / 256) * 32767
const int16_t wav_sine[] = {
    0, 804, 1608, 2410, 3212, 4011, 4808, 5602,
    6393, 7179, 7962, 8739, 9512, 10278, 11039, 11793,
    12539, 13279, 14010, 14732, 15446, 16151, 16846, 17530,
    18204, 18868, 19519, 20159, 20787, 21403, 22005, 22594,
    23170, 23731, 24279, 24811, 25329, 25832, 26319, 26790,
    27245, 27683, 28105, 28510, 28898, 29268, 29621, 29956,
    30273, 30571, 30852, 31113, 31356, 31580, 31785, 31971,
    32137, 32285, 32412, 32521, 32609, 32678, 32728, 32757,
    32767, 32757, 32728, 32678, 32609, 32521, 32412, 32285,
    32137, 31971, 31785, 31580, 31356, 31113, 30852, 30571,
    30273, 29956, 29621, 29268, 28898, 28510, 28105, 27683,
    27245, 26790, 26319, 25832, 25329, 24811, 24279, 23731,
    23170, 22594, 22005, 21403, 20787, 20159, 19519, 18868,
    18204, 17530, 16846, 16151, 15446, 14732, 14010, 13279,
    12539, 11793, 11039, 10278, 9512, 8739, 7962, 7179,
    6393, 5602, 4808, 4011, 3212, 2410, 1608, 804,
    0, -804, -1608, -2410, -3212, -4011, -4808, -5602,
    -6393, -7179, -7962, -8739, -9512, -10278, -11039, -11793,
    -12539, -13279, -14010, -14732, -15446, -16151, -16846, -17530,
    -18204, -18868, -19519, -20159, -20787, -21403, -22005, -22594,
    -23170, -23731, -24279, -24811, -25329, -25832, -26319, -26790,
    -27245, -27683, -28105, -28510, -28898, -29268, -29621, -29956,
    -30273, -30571, -30852, -31113, -31356, -31580, -31785, -31971,
    -32137, -32285, -32412, -32521, -32609, -32678, -32728, -32757,
    -32767, -32757, -32728, -32678, -32609, -32521, -32412, -32285,
    -32137, -31971, -31785, -31580, -31356, -31113, -30852, -30571,
    -30273, -29956, -29621, -29268, -28898, -28510, -28105, -27683,
    -27245, -26790, -26319, -25832, -25329, -24811, -24279, -23731,
    -23170, -22594, -22005, -21403, -20787, -20159, -19519, -18868,
    -18204, -17530, -16846, -16151, -15446, -14732, -14010, -13279,
    -12539, -11793, -11039, -10278, -9512, -8739, -7962, -7179,
    -6393, -5602, -4808, -4011, -3212, -2410, -1608, -804, 0
};
const size_t WAV_SINE_SIZE = 257;

// Phase increments for oscillator frequencies at 96kHz
// Index: (pitch - kPitchTableStart) >> 4, where kPitchTableStart = 128 * 128 = 16384
// Pitch format: note_number * 128, so pitch 16384 = note 128
// Table covers one octave (12 semitones = 1536 pitch units = 96 entries + 1 for interp)
// For notes below 128, the increment is right-shifted by the number of octaves
// Phase increment formula: 2^32 * freq / 96000
// Note 128 freq = 440 * 2^((128-69)/12) = 13289.75 Hz -> increment = 594,782,805
// Index i corresponds to: note 128 + i/8 semitones (i.e., i * 16 pitch units)
// freq(i) = 13289.75 * 2^(i/96)
const uint32_t lut_oscillator_increments[] = {
    // Generated with: floor(2^32 * 13289.75 * 2^(i/96) / 96000) for i=0..96
    594782805,  599098668,  603447064,  607828193,  612242258,  616689462,
    621170011,  625684112,  630231975,  634813810,  639429828,  644080243,
    648765270,  653485126,  658240029,  663030197,  667855852,  672717216,
    677614514,  682547970,  687517810,  692524264,  697567560,  702647929,
    707765603,  712920815,  718113800,  723344795,  728614037,  733921766,
    739268221,  744653646,  750078283,  755542378,  761046176,  766589925,
    772173875,  777798278,  783463386,  789169453,  794916735,  800705489,
    806535975,  812408453,  818323186,  824280439,  830280478,  836323570,
    842409986,  848539997,  854713876,  860931899,  867194342,  873501485,
    879853608,  886250993,  892693926,  899182692,  905717579,  912298878,
    918926880,  925601880,  932324172,  939094055,  945911827,  952777790,
    959692247,  966655503,  973667864,  980729639,  987841139,  995002674,
    1002214560, 1009477110, 1016790644, 1024155479, 1031571936, 1039040338,
    1046561009, 1054134275, 1061760464, 1069439905, 1077172929, 1084959869,
    1092801059, 1100696835, 1108647536, 1116653501, 1124715073, 1132832594,
    1141006410, 1149236867, 1157524315, 1165869105, 1174271591, 1182732127,
    1191251072
};
const size_t LUT_OSCILLATOR_INCREMENTS_SIZE = 97;

// FM frequency quantizer - maps parameter to musical frequency ratios
const int16_t lut_fm_frequency_quantizer[] = {
    0, 128, 256, 384, 512, 640, 768, 896,
    1024, 1152, 1280, 1408, 1536, 1664, 1792, 1920,
    2048, 2176, 2304, 2432, 2560, 2688, 2816, 2944,
    3072, 3200, 3328, 3456, 3584, 3712, 3840, 3968,
    4096, 4224, 4352, 4480, 4608, 4736, 4864, 4992,
    5120, 5248, 5376, 5504, 5632, 5760, 5888, 6016,
    6144, 6272, 6400, 6528, 6656, 6784, 6912, 7040,
    7168, 7296, 7424, 7552, 7680, 7808, 7936, 8064,
    8192, 8320, 8448, 8576, 8704, 8832, 8960, 9088,
    9216, 9344, 9472, 9600, 9728, 9856, 9984, 10112,
    10240, 10368, 10496, 10624, 10752, 10880, 11008, 11136,
    11264, 11392, 11520, 11648, 11776, 11904, 12032, 12160,
    12288, 12416, 12544, 12672, 12800, 12928, 13056, 13184,
    13312, 13440, 13568, 13696, 13824, 13952, 14080, 14208,
    14336, 14464, 14592, 14720, 14848, 14976, 15104, 15232,
    15360, 15488, 15616, 15744, 15872, 16000, 16128, 16256,
    16384, 16512, 16640, 16768, 16896, 17024, 17152, 17280,
    17408, 17536, 17664, 17792, 17920, 18048, 18176, 18304,
    18432, 18560, 18688, 18816, 18944, 19072, 19200, 19328,
    19456, 19584, 19712, 19840, 19968, 20096, 20224, 20352,
    20480, 20608, 20736, 20864, 20992, 21120, 21248, 21376,
    21504, 21632, 21760, 21888, 22016, 22144, 22272, 22400,
    22528, 22656, 22784, 22912, 23040, 23168, 23296, 23424,
    23552, 23680, 23808, 23936, 24064, 24192, 24320, 24448,
    24576, 24704, 24832, 24960, 25088, 25216, 25344, 25472,
    25600, 25728, 25856, 25984, 26112, 26240, 26368, 26496,
    26624, 26752, 26880, 27008, 27136, 27264, 27392, 27520,
    27648, 27776, 27904, 28032, 28160, 28288, 28416, 28544,
    28672, 28800, 28928, 29056, 29184, 29312, 29440, 29568,
    29696, 29824, 29952, 30080, 30208, 30336, 30464, 30592,
    30720, 30848, 30976, 31104, 31232, 31360, 31488, 31616,
    31744, 31872, 32000, 32128, 32256, 32384, 32512, 32640, 32767
};
const size_t LUT_FM_FREQUENCY_QUANTIZER_SIZE = 257;

// Sine fold waveshaper - folding distortion using sine function
// Formula: sin(x * gain) where gain increases with input amplitude
// Creates harmonic overtones when driven hard
const int16_t ws_sine_fold[] = {
    -32767, -32757, -32728, -32678, -32609, -32521, -32412, -32285,
    -32137, -31971, -31785, -31580, -31356, -31113, -30852, -30571,
    -30273, -29956, -29621, -29268, -28898, -28510, -28105, -27683,
    -27245, -26790, -26319, -25832, -25329, -24811, -24279, -23731,
    -23170, -22594, -22005, -21403, -20787, -20159, -19519, -18868,
    -18204, -17530, -16846, -16151, -15446, -14732, -14010, -13279,
    -12539, -11793, -11039, -10278, -9512, -8739, -7962, -7179,
    -6393, -5602, -4808, -4011, -3212, -2410, -1608, -804,
    0, 804, 1608, 2410, 3212, 4011, 4808, 5602,
    6393, 7179, 7962, 8739, 9512, 10278, 11039, 11793,
    12539, 13279, 14010, 14732, 15446, 16151, 16846, 17530,
    18204, 18868, 19519, 20159, 20787, 21403, 22005, 22594,
    23170, 23731, 24279, 24811, 25329, 25832, 26319, 26790,
    27245, 27683, 28105, 28510, 28898, 29268, 29621, 29956,
    30273, 30571, 30852, 31113, 31356, 31580, 31785, 31971,
    32137, 32285, 32412, 32521, 32609, 32678, 32728, 32757,
    32767, 32757, 32728, 32678, 32609, 32521, 32412, 32285,
    32137, 31971, 31785, 31580, 31356, 31113, 30852, 30571,
    30273, 29956, 29621, 29268, 28898, 28510, 28105, 27683,
    27245, 26790, 26319, 25832, 25329, 24811, 24279, 23731,
    23170, 22594, 22005, 21403, 20787, 20159, 19519, 18868,
    18204, 17530, 16846, 16151, 15446, 14732, 14010, 13279,
    12539, 11793, 11039, 10278, 9512, 8739, 7962, 7179,
    6393, 5602, 4808, 4011, 3212, 2410, 1608, 804,
    0, -804, -1608, -2410, -3212, -4011, -4808, -5602,
    -6393, -7179, -7962, -8739, -9512, -10278, -11039, -11793,
    -12539, -13279, -14010, -14732, -15446, -16151, -16846, -17530,
    -18204, -18868, -19519, -20159, -20787, -21403, -22005, -22594,
    -23170, -23731, -24279, -24811, -25329, -25832, -26319, -26790,
    -27245, -27683, -28105, -28510, -28898, -29268, -29621, -29956,
    -30273, -30571, -30852, -31113, -31356, -31580, -31785, -31971,
    -32137, -32285, -32412, -32521, -32609, -32678, -32728, -32757, -32767
};

// Triangle fold waveshaper - creates sharper harmonics than sine fold
// Uses triangle-based folding for a brighter, more aggressive sound
const int16_t ws_tri_fold[] = {
    0, 512, 1024, 1536, 2048, 2560, 3072, 3584,
    4096, 4608, 5120, 5632, 6144, 6656, 7168, 7680,
    8192, 8704, 9216, 9728, 10240, 10752, 11264, 11776,
    12288, 12800, 13312, 13824, 14336, 14848, 15360, 15872,
    16384, 16896, 17408, 17920, 18432, 18944, 19456, 19968,
    20480, 20992, 21504, 22016, 22528, 23040, 23552, 24064,
    24576, 25088, 25600, 26112, 26624, 27136, 27648, 28160,
    28672, 29184, 29696, 30208, 30720, 31232, 31744, 32256,
    32767, 32256, 31744, 31232, 30720, 30208, 29696, 29184,
    28672, 28160, 27648, 27136, 26624, 26112, 25600, 25088,
    24576, 24064, 23552, 23040, 22528, 22016, 21504, 20992,
    20480, 19968, 19456, 18944, 18432, 17920, 17408, 16896,
    16384, 15872, 15360, 14848, 14336, 13824, 13312, 12800,
    12288, 11776, 11264, 10752, 10240, 9728, 9216, 8704,
    8192, 7680, 7168, 6656, 6144, 5632, 5120, 4608,
    4096, 3584, 3072, 2560, 2048, 1536, 1024, 512,
    0, -512, -1024, -1536, -2048, -2560, -3072, -3584,
    -4096, -4608, -5120, -5632, -6144, -6656, -7168, -7680,
    -8192, -8704, -9216, -9728, -10240, -10752, -11264, -11776,
    -12288, -12800, -13312, -13824, -14336, -14848, -15360, -15872,
    -16384, -16896, -17408, -17920, -18432, -18944, -19456, -19968,
    -20480, -20992, -21504, -22016, -22528, -23040, -23552, -24064,
    -24576, -25088, -25600, -26112, -26624, -27136, -27648, -28160,
    -28672, -29184, -29696, -30208, -30720, -31232, -31744, -32256,
    -32767, -32256, -31744, -31232, -30720, -30208, -29696, -29184,
    -28672, -28160, -27648, -27136, -26624, -26112, -25600, -25088,
    -24576, -24064, -23552, -23040, -22528, -22016, -21504, -20992,
    -20480, -19968, -19456, -18944, -18432, -17920, -17408, -16896,
    -16384, -15872, -15360, -14848, -14336, -13824, -13312, -12800,
    -12288, -11776, -11264, -10752, -10240, -9728, -9216, -8704,
    -8192, -7680, -7168, -6656, -6144, -5632, -5120, -4608,
    -4096, -3584, -3072, -2560, -2048, -1536, -1024, -512, 0
};

// Violent overdrive waveshaper - hard clipping with slight softening
// Mostly flat at extremes, quick transition through zero
const int16_t ws_violent_overdrive[] = {
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32767, -32767, -32767, -32767, -32767, -32767, -32767,
    -32767, -32640, -32000, -30720, -28672, -25600, -21504, -16384,
    -10240, -4096, 0, 4096, 10240, 16384, 21504, 25600,
    28672, 30720, 32000, 32640, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767
};

// SVF cutoff coefficient table
// Maps MIDI pitch (0-256) to filter coefficient for state variable filter
// Formula: 2 * sin(pi * cutoff_freq / sample_rate), scaled to int16
const int16_t lut_svf_cutoff[] = {
    16, 17, 18, 19, 20, 21, 22, 24, 25, 27, 28, 30, 32, 34, 36, 38,
    40, 42, 45, 48, 50, 53, 56, 60, 63, 67, 71, 75, 80, 85, 90, 95,
    101, 107, 113, 120, 127, 135, 143, 151, 160, 170, 180, 190, 202, 214, 226, 240,
    254, 269, 285, 302, 320, 339, 359, 381, 403, 427, 453, 479, 508, 538, 570, 604,
    640, 678, 718, 761, 806, 854, 905, 959, 1015, 1076, 1140, 1208, 1280, 1356, 1437, 1522,
    1613, 1709, 1810, 1918, 2032, 2153, 2281, 2417, 2560, 2713, 2875, 3046, 3227, 3419, 3623, 3839,
    4067, 4310, 4566, 4838, 5126, 5431, 5754, 6096, 6458, 6842, 7249, 7680, 8137, 8621, 9133, 9676,
    10251, 10860, 11506, 12192, 12919, 13691, 14508, 15374, 16291, 17262, 18291, 19380, 20534, 21756, 23050, 24420,
    25871, 27406, 29032, 30752, 32573, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767,
    32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767, 32767
};

} // namespace braids
